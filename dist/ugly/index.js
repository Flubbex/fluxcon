!function t(e,n,o){function i(s,u){if(!n[s]){if(!e[s]){var c="function"==typeof require&&require;if(!u&&c)return c(s,!0);if(r)return r(s,!0);throw new Error("Cannot find module '"+s+"'")}var l=n[s]={exports:{}};e[s][0].call(l.exports,function(t){var n=e[s][1][t];return i(n?n:t)},l,l.exports,t,e,n,o)}return n[s].exports}for(var r="function"==typeof require&&require,s=0;s<o.length;s++)i(o[s]);return i}({1:[function(t,e,n){var o=function(){this.events={}};o.prototype.emit=function(){var t=[].slice.call(arguments),e=t.shift(),n=t.shift(),o=t.shift();if(t.unshift(n),!this.events[e])throw new Error("Emitter: No such event "+e);var i=this.events[e];i.map(function(e){var n=e.args.concat(t);e.callback.apply(o,n)})},o.prototype.on=function(){var t=[].slice.call(arguments),e=t.shift(),n=t.shift(),o={callback:n,args:t};return this.events[e]||(this.events[e]=[]),this.events[e].push(o)},o.prototype.off=function(){var t=[].slice.call(arguments),e=t.shift(),n=t.shift();this.events[e].filter(function(t){return!t.callback===n})},e.exports=o},{}],2:[function(t,e,n){function o(t){this.properties={};for(var e in t)switch(typeof t[e]){case"function":this[e]=t[e];break;default:this.properties[e]=t[e]}var n=this;o.domloaders.push(function(){n.el=document.getElementById(n.properties.el),n.initialize&&n.initialize()})}var i=t("./emitter");o.prototype=new(new i),o.domloaders=[],o.domReady=function(){for(var t=0;t<o.domloaders.length;t++)o.domloaders[t]()},e.exports=o},{"./emitter":1}],3:[function(t,e,n){Config={},Config.version="0.2.1",Config.vername="Sunny Taco",e.exports=Config},{}],4:[function(t,e,n){var o=function(){};o.prototype.get=function(t){var e=new XMLHttpRequest;return e.open("GET",t),e.send(),{then:function(t,n){e.addEventListener("load",function(){t.apply(n||this,arguments)})}}},e.exports=o},{}],5:[function(t,e,n){var o=function(){this.content=[]};o.key=0,o.toString=function(t){if(console.log(this.content.length),0===this.content.length)return"No history";result="<ul>"+(t||"History");for(var e=0;e<this.content.length;e++)result+="<li style='margin-left: 5%;'><span>"+this.content[e].time+"</span><span>"+this.content[e].command+"</span></li>";return result+="</ul>",result},o.prototype.push=function(t){return this.content.push(t)},o.prototype.get=function(t){return this.content[t]},o.prototype.clear=function(){this.content=[]},o.prototype.save=function(){var t=btoa("History.load('"+btoa(JSON.stringify(this))+"')"),e=location.toString();return e.endsWith("#")||(e+="#"),"<a href='"+e+t+"'>"+t+"</a>"},o.prototype.exec=function(t){for(var e=0;e<this.content.length-1;e++)console.log(e,this[e]),t(this.content[e].command)},o.prototype.load=function(t){if(!t)return"No command entered.";var e=JSON.parse(atob(t));this.clear();for(var n in e)this.content[n]=e[n];return this.exec(),this.toString("Loaded history")},e.exports=o},{}],6:[function(t,e,n){Object.dump=t("./util/object").dump;var o=t("./config"),i=t("./module/fluxcon"),r=t("./class/view");window.addEventListener("load",function(){function t(t){n.log(t)}function e(){const t=location.hash.slice(1);if(t){try{n.parseInput(atob(t))}catch(e){n.parseInput(t)}location.hash=""}}r.domReady();var n=new i;window.addEventListener("error",t),window.addEventListener("hashchange",e),e(),n.log("Fluxcon ",o.version," (",o.vername,") running"),n.focusEditor()})},{"./class/view":2,"./config":3,"./module/fluxcon":7,"./util/object":8}],7:[function(require,module,exports){function Fluxcon(){this.ajax=new AjaxController,this.history=new HistoryController,self=this,InputView.on("input",function(t){self.parseInput(t)})}var AjaxController=require("../controller/ajax"),HistoryController=require("../controller/history"),ConsoleView=require("../view/console"),InputView=require("../view/input");Fluxcon.prototype.parse=function(string){try{return eval(string)}catch(t){return t}return null},Fluxcon.prototype.parseLog=function(t,e){var n=this.parse(t),o=this.log(n);return e||this.history.push({time:this.timestamp(),command:t}),{el:o,result:n}},Fluxcon.prototype.parseInput=function(t){this.log(t).style.color="blue";var e=this.parseLog(t).result;return InputView.clear(),e},Fluxcon.prototype.up=function(){if(0===this.history.length)return!1;this.history.key=this.history.key+1>this.history.length?1:this.history.key+1;var t=this.history[this.history.key];this.input.elm.value=t.command},Fluxcon.prototype.down=function(){if(0===this.history.length)return!1;this.history.key=this.history.key-1<0?0:this.history.key-1;var t=this.history[this.history.key];this.input.elm.value=t.command},Fluxcon.prototype.timestamp=function(){return function(t){return"0"+t.getHours().toString().slice(0,2)+":0"+t.getMinutes().toString().slice(0,2)+":0"+t.getSeconds().toString().slice(0,2)}(new Date)},Fluxcon.prototype.focusEditor=function(){InputView.el.focus()},Fluxcon.prototype.log=function(){var t=[].slice.call(arguments);t.unshift(this.timestamp());var e=ConsoleView.log.apply(ConsoleView,t);return e.scrollIntoView(),e},module.exports=Fluxcon},{"../controller/ajax":4,"../controller/history":5,"../view/console":9,"../view/input":10}],8:[function(t,e,n){function o(t){var e=[];return JSON.stringify(t,function(t,n){if(null!=n&&"object"==typeof n){if(e.indexOf(n)>=0)return;e.push(n)}return n})}e.exports={dump:o}},{}],9:[function(t,e,n){var o=t("../class/view"),i=new o({el:"console",initialize:function(){},log:function(){var t=[].slice.call(arguments),e=document.createElement("div");for(var n in t){var o,i=t[n],r=document.createElement("span");switch(typeof i){case"object":Error.prototype.isPrototypeOf(i)&&(r.style.color="red");case"function":o=i.toString();break;case"number":r.style.color="darkorange",r.style.fontFamily="Courier New";case"string":o=i;break;case"undefined":o="'undefined'",r.style.color="brown";break;default:this.write("Warning: Unhandled type cast to string: ",typeof i),o=i.toString()}r.innerHTML=o,e.appendChild(r)}return this.el.appendChild(e),e}});e.exports=i},{"../class/view":2}],10:[function(t,e,n){var o=t("../class/view"),i=new o({el:"text",initialize:function(){var t=this;this.el.addEventListener("keydown",function(e){13===e.keyCode&&t.emit("input",t.el.value)})},clear:function(){this.el.value=""}});e.exports=i},{"../class/view":2}]},{},[6]);