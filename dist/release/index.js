!function t(e,o,n){function i(l,s){if(!o[l]){if(!e[l]){var u="function"==typeof require&&require;if(!s&&u)return u(l,!0);if(r)return r(l,!0);throw new Error("Cannot find module '"+l+"'")}var c=o[l]={exports:{}};e[l][0].call(c.exports,function(t){var o=e[l][1][t];return i(o?o:t)},c,c.exports,t,e,o,n)}return o[l].exports}for(var r="function"==typeof require&&require,l=0;l<n.length;l++)i(n[l]);return i}({1:[function(t,e,o){var n=function(t){return t=t?Object.create(n,t):Object.create(n,{}),t.events||(t.events={}),t};n.emit=function(){var t=[].slice.call(arguments),e=t.shift();if(!this.events[e]){if(n.strict)throw new Error("fluxmitter violation: No such event "+e);return null}return this.events[e].map(function(e){var o=e.args.concat(t);return{eventinfo:e,result:e.callback.apply(e.parent,o)}})},n.on=function(){var t=[].slice.call(arguments),e=t.shift(),o=t.shift(),n=t.shift();if(!o||!e)return null;var i={callback:o,parent:n,args:t};return this.events[e]||(this.events[e]=[]),this.events[e].push(i)},n.off=function(){var t=[].slice.call(arguments),e=t.shift(),o=t.shift();return o&&e?(this.events[e]=this.events[e].filter(function(t){return!t.callback===o}),this.events[e]):null},n.strict=!1,e.exports=n},{}],2:[function(t,e,o){function n(t){var e=Object.create(i());e.hook=function(){var arguments=[].slice.call(arguments),t=arguments.shift(),e=arguments.shift(),o=arguments.shift(),n=arguments.shift(),i=this;if(!t)throw new Error("Fluxview: No DOM element specified (DOM ready?)");if(!e)throw new Error("Fluxview: Invalid argument to view.hook (event)");if(!o)throw new Error("Fluxview: Invalid argument to view.hook (callback)");t.addEventListener(e,function(){o.apply(n||i||this,arguments)})},e.properties={};for(var o in t)switch(typeof t[o]){case"function":e[o]=t[o],e.on("call_"+o,e[o],e);break;default:e.properties[o]=t[o]}return n.domloaders.push(function(t){if(e.el=t.document.getElementById(e.properties.el),null===e.el)throw new Error("Fluxview: No element with id '"+e.properties.el+"' found");if(e.initialize)switch(typeof e.initialize){case"function":e.initialize.apply(e,arguments);break;case"string":e.emit(e.initialize,arguments)}}),e}var i=t("./fluxmitter");n.domloaders=[],n.ready=function(t){n.domloaders.map(function(e){e(t)})},e.exports=n},{"./fluxmitter":1}],3:[function(t,e,o){Config={},Config.version="0.2.7",Config.vername="Rainbow Lipstick",Config.console={},Config.console.init="J0ZsdXhjb24gJytmbHV4Y29uc29sZS5jb25maWcudmVyc2lvbisnICgnK2ZsdXhjb25zb2xlLmNvbmZpZy52ZXJuYW1lKycpIHJ1bm5pbmcuJw==",e.exports=Config},{}],4:[function(require,module,exports){function FluxController(t){this.config=t||{},this.ajax=new AjaxTool,this.history=new HistoryTool,this.storage=new StorageTool,window&&(window.fluxconsole=this),EditorView.on("input",this.parseInput,this),EditorView.on("clear",this.clear,this);var e=this.parse("atob('"+t.console.init+"')"),o=this.parseLog(e,!0);Array.prototype.slice.call(o.el.children).map(function(t){t.style.backgroundColor="rgba(128,200,64,128)"})}var AjaxTool=require("../tool/ajax"),HistoryTool=require("../tool/history"),StorageTool=require("../tool/storage"),ConsoleView=require("../view/console"),EditorView=require("../view/editor");FluxController.prototype.timestamp=function(){return function(t){return"0"+t.getHours().toString().slice(0,1)+":0"+t.getMinutes().toString().slice(0,1)+":0"+t.getSeconds().toString().slice(0,1)}(new Date)},FluxController.prototype.log=function(){var t=[].slice.call(arguments),e=this.timestamp(),o=ConsoleView.log(e,t.length>1?t.join(" "):t[0]);return o.scrollIntoView(),o},FluxController.prototype.parse=function(string){var result=null;try{result=eval(string)}catch(t){result=t}return result},FluxController.prototype.parseLog=function(t,e){var o=this.parse(t),n=this.log(o);return e||this.history.push({time:this.timestamp(),command:t}),{el:n,result:o}},FluxController.prototype.parseInput=function(t){return this.log(t).style.color="blue",this.parseLog(t).result},FluxController.prototype.up=function(){if(0===this.history.length)return!1;this.history.key=this.history.key+1>this.history.length?1:this.history.key+1;var t=this.history[this.history.key];this.input.elm.value=t.command},FluxController.prototype.down=function(){if(0===this.history.length)return!1;this.history.key=this.history.key-1<0?0:this.history.key-1;var t=this.history[this.history.key];this.input.elm.value=t.command},FluxController.prototype.focusEditor=function(){EditorView.el.focus()},FluxController.prototype.processHash=function(){var t=location.hash.slice(1);if(t){try{fluxconsole.parseInput(atob(t))}catch(e){fluxconsole.parseInput(t)}location.hash=""}},FluxController.prototype.clear=function(t){return ConsoleView.clear(t)},module.exports=FluxController},{"../tool/ajax":6,"../tool/history":7,"../tool/storage":8,"../view/console":10,"../view/editor":11}],5:[function(t,e,o){Object.dump=t("./util/object").dump;var n=t("./config"),i=t("./controller/flux"),r=t("./class/fluxview"),l=function(){function t(t){return r.ready(t),t.fluxconsole||(t.fluxconsole=new i(n)),t.addEventListener("error",t.fluxconsole.log),t.addEventListener("hashchange",t.fluxconsole.processHash),t.fluxconsole.processHash(),t.fluxconsole.focusEditor(),t.fluxconsole}return function(e){if(!e||!e.addEventListener)throw new Error("Invalid window object. Running from Node?");return e.addEventListener("load",function(){t(e)}),!0}}();"object"==typeof window&&l(window)&&console.log("Fluxcon loaded succesfully")},{"./class/fluxview":2,"./config":3,"./controller/flux":4,"./util/object":9}],6:[function(t,e,o){var n=function(){};n.prototype.get=function(t){var e=new XMLHttpRequest;return e.open("GET",t),e.send(),{then:function(t,o){e.addEventListener("load",function(){t.apply(o||this,arguments)})}}},e.exports=n},{}],7:[function(t,e,o){var n=function(){this.content=[]};n.key=0,n.prototype.toString=function(t){if(console.log(this.content.length),0===this.content.length)return"No history";result="<span class='title'>"+(t||"History")+"</span><ul>";for(var e=0;e<this.content.length;e++)result+="<li><span>"+this.content[e].time+"</span><div>"+this.content[e].command+"</div></li>";return result+="</ul>",result},n.prototype.push=function(t){return this.content.push(t)},n.prototype.get=function(t){return this.content[t]},n.prototype.clear=function(){this.content=[]},n.prototype.save=function(){var t=btoa("this.history.load('"+btoa(JSON.stringify(this))+"')"),e=location.toString();return e.endsWith("#")||(e+="#"),"<a href='"+e+t+"'>"+t+"</a>"},n.prototype.exec=function(t){for(var e=0;e<this.content.length-1;e++)console.log(e,this[e]),t(this.content[e].command)},n.prototype.load=function(t){if(!t)return"No command entered.";var e=JSON.parse(atob(t));this.clear();for(var o in e)this.content[o]=e[o];return this.exec(),this.toString("Loaded history")},e.exports=n},{}],8:[function(t,e,o){var n=function(){this.session=window.sessionStorage,this.local=window.localStorage};e.exports=n},{}],9:[function(t,e,o){function n(t){var e=[];return JSON.stringify(t,function(t,o){if(null!=o&&"object"==typeof o){if(e.indexOf(o)>=0)return;e.push(o)}return o})}e.exports={dump:n}},{}],10:[function(t,e,o){var n=t("../class/fluxview"),i=new n({el:"console",initialize:function(){},clear:function(t){return this.el.innerHTML="",t||"console cleared."},log_error:function(t,e){var o=this.log(t,e);return o.className+="log_error",o},log:function(t,e){var o=document.createElement("div"),n=document.createElement("div"),i=document.createElement("div");return o.className="row",n.className="ten columns",i.className="two columns",i.innerHTML=t,n.innerHTML=e.toString(),n.className+=" log_"+typeof e,o.appendChild(i),o.appendChild(n),this.el.appendChild(o),o}});e.exports=i},{"../class/fluxview":2}],11:[function(t,e,o){var n=t("../class/fluxview"),i=new n({el:"editor",initialize:function(){this.textbox=document.getElementById("text"),this.toolbox={tb_run:document.getElementById("tb_run"),tb_load:document.getElementById("tb_load"),tb_save:document.getElementById("tb_save"),tb_panic:document.getElementById("tb_pan"),tb_flux:document.getElementById("tb_flux")};for(var t in this.toolbox)this.toolbox[t].addEventListener("click",this[t]);document.addEventListener("keydown",function(t){if(13===t.keyCode){if(0===i.textbox.value.length)return void window.setTimeout(function(){i.textbox.value=""},0);if(t.shiftKey)return;i.emit("input",i.textbox.value),i.clearText()}})},clearText:function(){window.setTimeout(function(){i.textbox.value=""},0)},tb_run:function(){""!==i.textbox.value&&(i.emit("input",i.textbox.value),i.clearText())},tb_save:function(){i.emit("input","this.history.save()")},tb_load:function(){var t=prompt("Paste your saucecode here.");i.emit("clear"),i.emit("input","this.history.load('"+t+"')")},tb_panic:function(){i.emit("input","alert('AAAAAAH!')")},tb_flux:function(){i.emit("toggleflux")}});e.exports=i},{"../class/fluxview":2}]},{},[5]);